{"version":3,"sources":["packages/animations/animations-browser-testing.umd.js"],"names":["global","factory","exports","module","require","define","amd","npm_package","tslib","ng","animations","browser","this","tslib_1","MockAnimationDriver","prototype","validateStyleProperty","prop","ɵvalidateStyleProperty","matchesElement","element","selector","ɵmatchesElement","containsElement","elm1","elm2","ɵcontainsElement","query","multi","ɵinvokeQuery","computeStyle","defaultValue","animate","keyframes","duration","delay","easing","previousPlayers","player","MockAnimationPlayer","log","push","_super","_this","call","__finished","__started","previousStyles","_onInitFns","currentSnapshot","ɵallowPreviousPlayerStylesMerge","forEach","styles_1","Object","keys","__extends","onInit","fn","init","finish","destroy","triggerMicrotask","play","hasStarted","beforeDestroy","captures","kf","AUTO_STYLE","NoopAnimationPlayer","defineProperty","value"],"mappings":"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","sourcesContent":["/**\n * @license Angular v6.0.0-rc.1\n * (c) 2010-2018 Google, Inc. https://angular.io/\n * License: MIT\n */\n\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('tslib'), require('@angular/animations'), require('@angular/animations/browser')) :\n\ttypeof define === 'function' && define.amd ? define(['exports', 'tslib', '@angular/animations', '@angular/animations/browser'], factory) :\n\t(factory((global.npm_package = {}),global.tslib,global.ng.animations,global.ng.animations.browser));\n}(this, (function (exports,tslib_1,animations,browser) { 'use strict';\n\n/**\n * @experimental Animation support is experimental.\n */\nvar MockAnimationDriver = /** @class */ (function () {\n    function MockAnimationDriver() {\n    }\n    MockAnimationDriver.prototype.validateStyleProperty = function (prop) { return browser.ɵvalidateStyleProperty(prop); };\n    MockAnimationDriver.prototype.matchesElement = function (element, selector) {\n        return browser.ɵmatchesElement(element, selector);\n    };\n    MockAnimationDriver.prototype.containsElement = function (elm1, elm2) { return browser.ɵcontainsElement(elm1, elm2); };\n    MockAnimationDriver.prototype.query = function (element, selector, multi) {\n        return browser.ɵinvokeQuery(element, selector, multi);\n    };\n    MockAnimationDriver.prototype.computeStyle = function (element, prop, defaultValue) {\n        return defaultValue || '';\n    };\n    MockAnimationDriver.prototype.animate = function (element, keyframes, duration, delay, easing, previousPlayers) {\n        if (previousPlayers === void 0) { previousPlayers = []; }\n        var player = new MockAnimationPlayer(element, keyframes, duration, delay, easing, previousPlayers);\n        MockAnimationDriver.log.push(player);\n        return player;\n    };\n    MockAnimationDriver.log = [];\n    return MockAnimationDriver;\n}());\n/**\n * @experimental Animation support is experimental.\n */\nvar MockAnimationPlayer = /** @class */ (function (_super) {\n    tslib_1.__extends(MockAnimationPlayer, _super);\n    function MockAnimationPlayer(element, keyframes, duration, delay, easing, previousPlayers) {\n        var _this = _super.call(this, duration, delay) || this;\n        _this.element = element;\n        _this.keyframes = keyframes;\n        _this.duration = duration;\n        _this.delay = delay;\n        _this.easing = easing;\n        _this.previousPlayers = previousPlayers;\n        _this.__finished = false;\n        _this.__started = false;\n        _this.previousStyles = {};\n        _this._onInitFns = [];\n        _this.currentSnapshot = {};\n        if (browser.ɵallowPreviousPlayerStylesMerge(duration, delay)) {\n            previousPlayers.forEach(function (player) {\n                if (player instanceof MockAnimationPlayer) {\n                    var styles_1 = player.currentSnapshot;\n                    Object.keys(styles_1).forEach(function (prop) { return _this.previousStyles[prop] = styles_1[prop]; });\n                }\n            });\n        }\n        return _this;\n    }\n    /* @internal */\n    /* @internal */\n    MockAnimationPlayer.prototype.onInit = /* @internal */\n    function (fn) { this._onInitFns.push(fn); };\n    /* @internal */\n    /* @internal */\n    MockAnimationPlayer.prototype.init = /* @internal */\n    function () {\n        _super.prototype.init.call(this);\n        this._onInitFns.forEach(function (fn) { return fn(); });\n        this._onInitFns = [];\n    };\n    MockAnimationPlayer.prototype.finish = function () {\n        _super.prototype.finish.call(this);\n        this.__finished = true;\n    };\n    MockAnimationPlayer.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this.__finished = true;\n    };\n    /* @internal */\n    /* @internal */\n    MockAnimationPlayer.prototype.triggerMicrotask = /* @internal */\n    function () { };\n    MockAnimationPlayer.prototype.play = function () {\n        _super.prototype.play.call(this);\n        this.__started = true;\n    };\n    MockAnimationPlayer.prototype.hasStarted = function () { return this.__started; };\n    MockAnimationPlayer.prototype.beforeDestroy = function () {\n        var _this = this;\n        var captures = {};\n        Object.keys(this.previousStyles).forEach(function (prop) {\n            captures[prop] = _this.previousStyles[prop];\n        });\n        if (this.hasStarted()) {\n            // when assembling the captured styles, it's important that\n            // we build the keyframe styles in the following order:\n            // {other styles within keyframes, ... previousStyles }\n            this.keyframes.forEach(function (kf) {\n                Object.keys(kf).forEach(function (prop) {\n                    if (prop != 'offset') {\n                        captures[prop] = _this.__finished ? kf[prop] : animations.AUTO_STYLE;\n                    }\n                });\n            });\n        }\n        this.currentSnapshot = captures;\n    };\n    return MockAnimationPlayer;\n}(animations.NoopAnimationPlayer));\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexports.MockAnimationDriver = MockAnimationDriver;\nexports.MockAnimationPlayer = MockAnimationPlayer;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=animations-browser-testing.umd.js.map\n"]}